@using Nop.Plugin.Payments.StripeConnect.Models;
@using Nop.Plugin.Payments.StripeConnect;
@using System.Text.Encodings.Web
@using Nop.Core

@model OnBoardingModel
@inject Nop.Core.IWebHelper webHelper
@{
    Layout = "_ColumnsTwo";

    //title
    Html.AddTitleParts(T("PageTitle.Account").Text);
    //page class
    Html.AppendPageCssClassParts("html-account-page");
    Html.AppendPageCssClassParts("html-customer-info-page");
}

@section left
    {
    @await Component.InvokeAsync("CustomerNavigation")
}

<div class="page account-page customer-info-page">
        <div class="page-title">
            <h1>@T("Account.MyAccount") - @T("Plugin.Payments.StripeConnect.AccountNavPayPalIntegration")</h1>
        </div>
        <div class="page-body">
            <div>@T("Plugin.Payments.StripeConnect.OnBoarding.Consent")</div>
            @if (@Model.OnBoardingUrl != null)
            {
                @*<div dir="ltr" style="text-align: left;" trbidi="on">
                    <script>
                        (function (d, s, id) {
                            var js, ref = d.getElementsByTagName(s)[0];
                            if (!d.getElementById(id)) {
                                js = d.createElement(s);
                                js.id = id;
                                js.async = true;
                                js.src = "https://www.paypal.com/webapps/merchantboarding/js/lib/lightbox/partner.js";
                                ref.parentNode.insertBefore(js, ref);
                            }
                        }(document, "script", "paypal-js"));

                    </script>
                    <a data-paypal-button="true" href="@Model.OnBoardingUrl&displayMode=minibrowser" target="PPFrame">@T("Plugin.Payments.StripeConnect.OnBoarding.PayPalMiniBrowerAction")</a>
                </div>*@
            }
            else
            {
                @*<a asp-controller="OnBoarding"
                   asp-action="Index"
                   asp-route-consent="@true">@T("Plugin.Payments.StripeConnect.OnBoarding.ConsentAction")</a>*@
            }

        </div>
</div>